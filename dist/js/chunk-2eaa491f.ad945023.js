(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eaa491f"],{"0d09":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page-user-list"}},[a("vx-card",{ref:"filterCard",staticClass:"user-list-filters mb-8",attrs:{title:"Filters",actionButtons:""},on:{refresh:e.resetColFilters,remove:e.resetColFilters}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Publication Type")]),a("v-select",{staticClass:"mb-4 md:mb-0",attrs:{options:e.researchOptions,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.roleFilter,callback:function(t){e.roleFilter=t},expression:"roleFilter"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Status")]),a("v-select",{staticClass:"mb-4 md:mb-0",attrs:{options:e.statusOptions,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.statusFilter,callback:function(t){e.statusFilter=t},expression:"statusFilter"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("SDG Goal")]),a("v-select",{staticClass:"mb-4 sm:mb-0",attrs:{options:e.isVerifiedOptions,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.isVerifiedFilter,callback:function(t){e.isVerifiedFilter=t},expression:"isVerifiedFilter"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Department")]),a("v-select",{attrs:{options:e.departmentOptions,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.departmentFilter,callback:function(t){e.departmentFilter=t},expression:"departmentFilter"}})],1)])]),a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.paginationPageSize-(e.paginationPageSize-1))+" - "+e._s(e.researchData.length-e.currentPage*e.paginationPageSize>0?e.currentPage*e.paginationPageSize:e.researchData.length)+" of "+e._s(e.researchData.length))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(10)}}},[a("span",[e._v("10")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(20)}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(25)}}},[a("span",[e._v("25")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(30)}}},[a("span",[e._v("30")])])],1)],1)],1),a("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{input:e.updateSearchQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),a("vs-button",{staticClass:"mb-4 md:mb-0",on:{click:function(t){return e.gridApi.exportDataAsCsv()}}},[e._v("Export as CSV")]),a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-3 shadow-drop rounded-lg d-theme-dark-light-bg cursor-pointer flex items-end justify-center text-lg font-medium w-32"},[a("span",{staticClass:"mr-2 leading-none"},[e._v("Actions")]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"TrashIcon",svgClasses:"h-4 w-4"}}),a("span",[e._v("Delete")])],1)]),a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"ArchiveIcon",svgClasses:"h-4 w-4"}}),a("span",[e._v("Archive")])],1)]),a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"FileIcon",svgClasses:"h-4 w-4"}}),a("span",[e._v("Print")])],1)]),a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"SaveIcon",svgClasses:"h-4 w-4"},on:{click:function(t){return e.gridApi.exportDataAsCsv()}}}),a("span",[e._v("CSV")])],1)])],1)],1)],1),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:e.components,gridOptions:e.gridOptions,columnDefs:e.columnDefs,defaultColDef:e.defaultColDef,rowData:e.researchData,rowSelection:"multiple",colResizeDefault:"shift",animateRows:!0,floatingFilter:!0,pagination:!0,paginationPageSize:e.paginationPageSize,suppressPaginationPanel:!0,enableRtl:e.$vs.rtl}}),a("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},r=[],l=(a("c5f6"),a("401be")),n=(a("4e06"),a("4a7a")),s=a.n(n),o=a("3310"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex items-center"},[a("router-link",{staticClass:"text-inherit hover:text-primary",attrs:{to:e.url},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[e._v(e._s(e.params.value))])],1)},u=[],d={name:"CellRendererLink",computed:{url:function(){return"/apps/user/user-view/268"}}},p=d,f=a("2877"),v=Object(f["a"])(p,c,u,!1,null,null,null),m=v.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-chip",{staticClass:"ag-grid-cell-chip",attrs:{color:e.chipColor(e.params.value)}},[a("span",[e._v(e._s(e.params.value))])])},g=[],b={name:"CellRendererStatus",computed:{chipColor:function(){return function(e){return"active"===e?"success":"blocked"===e?"danger":"deactivated"===e?"warning":"primary"}}}},C=b,w=(a("46b9"),Object(f["a"])(C,h,g,!1,null,null,null)),S=w.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("feather-icon",{attrs:{icon:"CircleIcon",svgClasses:["fill-current h-4 w-4",e.textColor]}})},P=[],x={name:"CellRendererVerified",computed:{textColor:function(){return this.params.value?"text-primary":"text-grey"}}},y=x,k=Object(f["a"])(y,A,P,!1,null,null,null),D=k.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{direction:e.$vs.rtl?"rtl":"ltr"}},[a("feather-icon",{attrs:{icon:"Edit3Icon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:e.editRecord}}),a("feather-icon",{attrs:{icon:"Trash2Icon",svgClasses:"h-5 w-5 hover:text-danger cursor-pointer"},on:{click:e.confirmDeleteRecord}})],1)},F=[],_={name:"CellRendererActions",methods:{editRecord:function(){this.$router.push("/apps/manager/research-edit/".concat(this.params.data._id)).catch((function(){}))},confirmDeleteRecord:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Delete",text:'You are about to delete "'.concat(this.params.data.username,'"'),accept:this.deleteRecord,acceptText:"Delete"})},deleteRecord:function(){this.showDeleteSuccess()},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"User Deleted",text:"The selected user was successfully deleted"})}}},I=_,O=Object(f["a"])(I,R,F,!1,null,null,null),T=O.exports,E={components:{AgGridVue:l["AgGridVue"],vSelect:s.a,CellRendererLink:m,CellRendererStatus:S,CellRendererVerified:D,CellRendererActions:T},data:function(){return{roleFilter:{label:"All",value:"all"},roleOptions:[{label:"All",value:"all"},{label:"Admin",value:"admin"},{label:"User",value:"user"},{label:"Staff",value:"staff"}],researchOptions:[{label:"Post graduate supervision",value:"Post graduate supervision"},{label:"Peer Reviewed Conference publications",value:"Peer Reviewed Conference publications"},{label:"Oral/Conference presentations",value:"Oral/Conference presentations"},{label:"Peer reviewed journal articles",value:"Peer reviewed journal articles"},{label:"Book Chapter",value:"Book Chapter"},{label:"Book",value:"Book"},{label:"Book Editor/ Co-editor",value:"Book Editor/ Co-editor"},{label:"Others (Specify, e.g. book review, reports…)",value:"Others (Specify, e.g. book review, reports…)"}],statusFilter:{label:"All",value:"all"},statusOptions:[{label:"All",value:"all"},{label:"Active",value:"active"},{label:"Deactivated",value:"deactivated"},{label:"Blocked",value:"blocked"}],isVerifiedFilter:{label:"All",value:"all"},isVerifiedOptions:[{label:"All",value:"all"},{label:"1 (No Poverty)",value:"1 (No Poverty)"},{label:"2 (Zero Hunger)",value:"2 (Zero Hunger)"},{label:"3 (Good Health And Well Being)",value:"3 (Good Health And Well Being)"},{label:"4 (Quality Education)",value:"4 (Quality Education)"},{label:"5 (Gender Equality)",value:"5 (Gender Equality)"},{label:"6 (Clean water and sanitation)",value:"6 (Clean water and sanitation)"},{label:"7 (Affordable and Clean Energy)",value:"7 (Affordable and Clean Energy)"},{label:"8 (Decent Work And Economic Growth)",value:"8 (Decent Work And Economic Growth)"},{label:"9 (Industry, Innovation and Infrastructure)",value:"9 (Industry, Innovation and Infrastructure)"},{label:"10 (Reduced Inequality)",value:"10 (Reduced Inequality)"},{label:"11 (Sustainable Cities and Communities)",value:"11 (Sustainable Cities and Communities)"},{label:"12 (Responsible Consumption and Production)",value:"12 (Responsible Consumption and Production)"},{label:"13 (Climate Action)",value:"13 (Climate Action)"},{label:"14 (Life Below Water)",value:"14 (Life Below Water)"},{label:"15 (Life on Land)",value:"15 (Life on Land)"},{label:"16 (Peace and Justice Strong Institutions)",value:"16 (Peace and Justice Strong Institutions)"},{label:"17 (Partnerships to achieve the Goal)",value:"Others (Specify, e.g. book review, reports…)"}],departmentFilter:{label:"All",value:"all"},departmentOptions:[{label:"All",value:"all"},{label:"Computing & Informatics",value:"Computing & Informatics"},{label:"Engineering",value:"Engineering"},{label:"Health & Applied Sciences",value:"Health & Applied Sciences"},{label:"Human Sciences",value:"Human Sciences"},{label:"Management Sciences",value:"Management Sciences"},{label:"Natural Resources & Spatial Sciences",value:"Natural Resources & Spatial Sciences"},{label:"NUST Administrative Units",value:"NUST Administrative Units"},{label:"NUST Centres & Institutes",value:"NUST Centres & Institutes"},{label:"NUST Library",value:"NUST Library"},{label:"Other - Multidisciplinary",value:"Other - Multidisciplinary"},{label:"Speeches, Lectures, Presentations",value:"Speeches, Lectures, Presentations"},{label:"Theses & Dissertations",value:"Theses & Dissertations"},{label:"Management",value:"management"}],searchQuery:"",gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"Author",field:"userId.firstname",width:150,filter:!0,checkboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,headerCheckboxSelection:!0},{headerName:"Title",field:"title",filter:!0,width:210,cellRendererFramework:"CellRendererLink"},{headerName:"PublicationType",field:"publicationType",filter:!0,width:225},{headerName:"publicationDate",field:"publicationDate",filter:!0,width:200},{headerName:"SDG Goals",field:"sdggoal",filter:!0,width:200},{headerName:"apaStyle",field:"apaStyle",filter:!0,width:150},{headerName:"mainSupervisor",field:"mainSupervisor",filter:!0,width:150},{headerName:"coSupervisor",field:"coSupervisor",filter:!0,width:150},{headerName:"level",field:"level",filter:!0,width:150,cellRendererFramework:"CellRendererStatus"},{headerName:"conferencePaper",field:"conferencePaper",filter:!0,width:125,cellClass:"text-center"},{headerName:"Actions",field:"transactions",width:150,cellRendererFramework:"CellRendererActions"}],components:{CellRendererLink:m,CellRendererStatus:S,CellRendererVerified:D,CellRendererActions:T}}},watch:{roleFilter:function(e){this.setColumnFilter("publicationType",e.value)},statusFilter:function(e){this.setColumnFilter("status",e.value)},isVerifiedFilter:function(e){var t=void 0===e.value?"all":e.value;this.setColumnFilter("sdggoal",t)},departmentFilter:function(e){this.setColumnFilter("department",e.value)}},computed:{researchData:function(){return this.$store.state.dataList.products},paginationPageSize:function(){return this.gridApi?this.gridApi.paginationGetPageSize():10},totalPages:function(){return this.gridApi?this.gridApi.paginationGetTotalPages():0},currentPage:{get:function(){return this.gridApi?this.gridApi.paginationGetCurrentPage()+1:1},set:function(e){this.gridApi.paginationGoToPage(e-1)}}},methods:{setColumnFilter:function(e,t){var a=this.gridApi.getFilterInstance(e),i=null;"all"!==t&&(i={type:"equals",filter:t}),a.setModel(i),this.gridApi.onFilterChanged()},resetColFilters:function(){this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged(),this.roleFilter=this.statusFilter=this.isVerifiedFilter=this.departmentFilter={label:"All",value:"all"},this.$refs.filterCard.removeRefreshAnimation()},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)}},mounted:function(){if(this.gridApi=this.gridOptions.api,this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-".concat(String(Number(e.style.transform.slice(11,-3))+9),"px")}},created:function(){o["a"].isRegistered||(this.$store.registerModule("dataList",o["a"]),o["a"].isRegistered=!0),this.$store.dispatch("dataList/fetchDataListItems").catch((function(e){console.error(e)}))}},N=E,$=(a("2b88"),Object(f["a"])(N,i,r,!1,null,null,null));t["default"]=$.exports},"2b88":function(e,t,a){"use strict";a("9c7b")},3310:function(e,t,a){"use strict";var i={products:[]},r=(a("20d6"),{ADD_ITEM:function(e,t){e.products.unshift(t)},SET_PRODUCTS:function(e,t){e.products=t},UPDATE_PRODUCT:function(e,t){var a=e.products.findIndex((function(e){return e.id===t.id}));Object.assign(e.products[a],t)},REMOVE_ITEM:function(e,t){var a=e.products.findIndex((function(e){return e.id===t}));e.products.splice(a,1)}}),l=a("bb36"),n={addItem:function(e,t){var a=e.commit;return new Promise((function(e,i){l["a"].post("/api/research/products/",{item:t}).then((function(i){a("ADD_ITEM",Object.assign(t,{id:i.data.id})),e(i)})).catch((function(e){i(e)}))}))},fetchDataListItems:function(e){var t=e.commit;return new Promise((function(e,a){l["a"].get("http://".concat(window.location.host,"/api/research-outputs/")).then((function(a){t("SET_PRODUCTS",a.data),e(a)})).catch((function(e){a(e)}))}))},updateItem:function(e,t){var a=e.commit;return new Promise((function(e,i){l["a"].post("/api/research/products/".concat(t.id),{item:t}).then((function(t){a("UPDATE_PRODUCT",t.data),e(t)})).catch((function(e){i(e)}))}))},removeItem:function(e,t){var a=e.commit;return new Promise((function(e,i){l["a"].delete("/api/research/products/".concat(t)).then((function(i){a("REMOVE_ITEM",t),e(i)})).catch((function(e){i(e)}))}))},fetchResearchById:function(e,t){return new Promise((function(e,a){l["a"].get("http://".concat(window.location.host,"/api/research-outputs/").concat(t)).then((function(t){console.log(t),e(t)})).catch((function(e){a(e)}))}))}},s={};t["a"]={isRegistered:!1,namespaced:!0,state:i,mutations:r,actions:n,getters:s}},"46b9":function(e,t,a){"use strict";a("cc11")},"9c7b":function(e,t,a){},cc11:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2eaa491f.ad945023.js.map